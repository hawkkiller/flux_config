apiVersion: v1
kind: ConfigMap
metadata:
  name: ghost-value-overrides
  namespace: ghost
data:
  values.yaml: |
    ghost:
      nodeEnv: development
      timezone: UTC
      url: https://themisha.dev
      image:
        repository: ghost
        tag: 5.44.0-alpine
        pullPolicy: IfNotPresent
      service:
        type: ClusterIP
        port: 80
      mail:
        from: "themisha.dev <"
        transport: SMTP
        host: smtp.gmail.com
        port: 587
        auth:
          # or use secret reference for password and
          privateSecretRef: ghost-mail
    
    mysql:
      size: 8Gi
      image:
        repository: mysql
        tag: 8.0.33-debian
        pullPolicy: IfNotPresent
      connection:
        # mysql-database
        # mysql-username
        # mysql-password
        # mysql-root-password
        privateSecretRef: ghost-mysql
      mount: /var/lib/mysql
      backup:
        enabled: false
        # specify
        # S3_SECRET_ACCESS_KEY  
        # S3_ACCESS_KEY_ID 
        # S3_BUCKET 
        # S3_REGION 
        awsSecretRef: ghost-backup
        schedule: "* * * * *" # every minute
        retentionDays: 10
        bucketPath: "backup"
        ttlSecondsAfterFinished: 86400
